<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upgrade to Elastic 8.10.0 | Elastic Installation and Upgrade Guide | Elastic</title>
<meta class="elastic" name="content" content="Upgrade to Elastic 8.10.0 | Elastic Installation and Upgrade Guide">

<link rel="home" href="index.html" title="Elastic Installation and Upgrade Guide"/>
<link rel="up" href="index.html" title="Elastic Installation and Upgrade Guide"/>
<link rel="prev" href="air-gapped-install.html" title="Installing in an air-gapped environment"/>
<link rel="next" href="upgrading-elasticsearch.html" title="Upgrade Elasticsearch"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Installation and Upgrade Guide</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="air-gapped-install.html">« Installing in an air-gapped environment</a>
</span>
<span class="next">
<a href="upgrading-elasticsearch.html">Upgrade Elasticsearch »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="upgrading-elastic-stack"></a>Upgrade to Elastic 8.10.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack.asciidoc">edit</a></h1>
</div></div></div>
<p>Before you upgrade to 8.10.0, it&#8217;s important to take some preparation steps.
These steps vary based on your current version:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="upgrading-elastic-stack.html#prepare-to-upgrade-8x" title="Prepare to upgrade from an earlier 8.x version">Upgrade from an earlier 8.x version</a>
</li>
<li class="listitem">
<a class="xref" href="upgrading-elastic-stack.html#prepare-to-upgrade" title="Prepare to upgrade from 7.x">Upgrade from 7.x</a>
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Upgrading from a release candidate build, such as 8.0.0-rc1 or
8.0.0-rc2, is not supported. Pre-releases should only be used for testing in a
temporary environment.</p>
</div>
</div>
<h3><a id="prepare-to-upgrade-8x"></a>Prepare to upgrade from an earlier 8.x version<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Review the breaking changes for each product you use and make the necessary
changes so your code is compatible with 8.10.0:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/apm/guide/master/apm-breaking.html" class="ulink" target="_top">APM breaking changes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/beats/libbeat/master/breaking-changes.html" class="ulink" target="_top">Beats breaking changes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/breaking-changes.html" class="ulink" target="_top">Elasticsearch migration guide</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/security/master/release-notes.html" class="ulink" target="_top">Elastic Security release notes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/enterprise-search/master/changelog.html" class="ulink" target="_top">Enterprise Search release notes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/fleet/master/release-notes.html" class="ulink" target="_top">Fleet and Elastic Agent release notes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/kibana/master/release-notes.html" class="ulink" target="_top">Kibana release notes</a>
</li>
<li class="listitem">
<a href="https://www.elastic.co/guide/en/logstash/master/breaking-changes.html" class="ulink" target="_top">Logstash breaking changes</a>
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure you check the breaking changes for each minor release up to 8.10.0.
</li>
<li class="listitem">
If you are using machine learning datafeeds that contain discontinued search or query
domain specific language (DSL), the upgrade will fail. In 5.6.5 and later, the
Upgrade Assistant provides information about which datafeeds need to be updated.
</li>
</ul>
</div>
</div>
</div>
</li>
<li class="listitem">
If you use any Elasticsearch plugins, make sure there is a version of each plugin that is
compatible with Elasticsearch version 8.10.0.
</li>
<li class="listitem">
Test the upgrade in an isolated environment before upgrading your production
cluster.
</li>
<li class="listitem">
<p>Make sure you have a current snapshot before you start the upgrade.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot downgrade Elasticsearch nodes after upgrading.
If you cannot complete the upgrade process,
you will need to restore from the snapshot.</p>
</div>
</div>
</li>
<li class="listitem">
If you use a separate <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/monitoring-production.html" class="ulink" target="_top">monitoring cluster</a>, you should upgrade the monitoring cluster before the production cluster. In general, the monitoring cluster and the clusters being monitored should be running the same version of the stack. A monitoring cluster cannot monitor production clusters running newer versions of the stack. If necessary, the monitoring cluster can monitor production clusters running the latest release of the previous major version.
</li>
</ol>
</div>
<h3><a id="prepare-to-upgrade"></a>Prepare to upgrade from 7.x<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack.asciidoc">edit</a></h3>
<p>To upgrade to 8.10.0 from 7.16 or earlier, <span class="strong strong"><strong>you must first upgrade to 7.17</strong></span>.
This enables you to use the <span class="strong strong"><strong>Upgrade Assistant</strong></span> to identify and resolve issues,
reindex indices created before 7.0, and then perform a rolling upgrade.</p>
<p><span class="strong strong"><strong>Upgrading to 7.17 before upgrading to 8.10.0 is required
even if you opt to do a full-cluster restart of your Elasticsearch cluster.</strong></span>
Alternatively, you can create a new 8.10.0 deployment and reindex from remote.
For more information, see <a class="xref" href="upgrading-elastic-stack.html#upgrading-reindex" title="Reindex to upgrade">Reindex to upgrade</a>.</p>
<p>Beats and Logstash 7.n are compatible with Elasticsearch 8.10.0
to give you flexibility in scheduling the upgrade.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Remote cluster compatibility</h3>
<p>If you use cross-cluster search, note that 8.10.0 can only search remote clusters running the previous minor version or later.
For more information, see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/modules-cross-cluster-search.html" class="ulink" target="_top">Searching across clusters</a>.</p>
<p>If you use cross-cluster replication, a cluster that contains follower indices must run the same or newer version as the remote cluster.
For more information, see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/xpack-ccr.html" class="ulink" target="_top">Cross cluster replication</a> for version compatibility matrix.</p>
<p>You can view your remote clusters from <span class="strong strong"><strong>Stack Management &gt; Remote Clusters</strong></span>.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Use the <a href="https://www.elastic.co/guide/en/kibana/7.17/upgrade-assistant.html" class="ulink" target="_top">Upgrade Assistant</a>
to prepare for your upgrade from 7.17 to 8.10.0.
The <span class="strong strong"><strong>Upgrade Assistant</strong></span> identifies deprecated settings and guides
you through resolving issues and reindexing indices created before 7.0.
Make sure you have a current snapshot before making configuration changes
or reindexing.</p>
<p><span class="strong strong"><strong>You must resolve all critical issues before proceeding with the upgrade.</strong></span></p>
</li>
<li class="listitem">
<p>Review the deprecation logs from the <span class="strong strong"><strong>Upgrade Assistant</strong></span> to
determine if your applications are using features that are not supported
or behave differently in 8.x.
See the <a class="xref" href="elastic-stack-breaking-changes.html" title="Breaking changes">breaking changes</a> for more information
about changes in 8.10.0 that could affect your application.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure you check the breaking changes for each minor 8.x release
up to 8.10.0.</p>
</div>
</div>
</li>
<li class="listitem">
<p>Make the recommended changes to ensure that your applications
continue to operate as expected after the upgrade.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>As a temporary solution, you can submit requests to 8.x
using the 7.x syntax with the REST API compatibility mode.
While this enables you to submit requests that use the old syntax,
it does not guarantee the same behavior.
REST API compatibility should be a bridge to smooth out the upgrade process,
not a long term strategy.
For more information, see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/rest-api-compatibility.html" class="ulink" target="_top">REST API compatibility</a>.</p>
</div>
</div>
</li>
<li class="listitem">
If you use any Elasticsearch plugins, make sure there is a version of each plugin that is
compatible with Elasticsearch version 8.10.0.
</li>
<li class="listitem">
Test the upgrade in an isolated environment before upgrading your production
cluster.
</li>
<li class="listitem">
<p>Make sure you have a current snapshot before you start the upgrade.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot downgrade Elasticsearch nodes after upgrading.
If you cannot complete the upgrade process,
you will need to restore from the snapshot.</p>
</div>
</div>
</li>
<li class="listitem">
If you use a separate <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/monitoring-production.html" class="ulink" target="_top">monitoring cluster</a>, you should upgrade the monitoring cluster before the production cluster. In general, the monitoring cluster and the clusters being monitored should be running the same version of the stack. A monitoring cluster cannot monitor production clusters running newer versions of the stack. If necessary, the monitoring cluster can monitor production clusters running the latest release of the previous major version.
</li>
</ol>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrade-elastic-stack-for-elastic-cloud"></a>Upgrade on Elastic Cloud<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack-cloud.asciidoc">edit</a></h2>
</div></div></div>
<p>Once you are <a class="xref" href="upgrading-elastic-stack.html" title="Upgrade to Elastic 8.10.0">prepared to upgrade</a>,
a single click in the Elastic Cloud console can upgrade a deployment to a newer
version, add more processing capacity, change plugins, and enable or disable
high availability, all at the same time. During the upgrade process,
Elasticsearch, Kibana, and all of your deployment components are upgraded simultaneously.</p>
<p>Minor version upgrades, upgrades from 7.17 to 8.10.0,
and cluster configuration changes can be performed with no downtime.
Elastic Cloud only supports upgrades to released versions.
Preview releases and master snapshots are not supported.</p>
<p>Elasticsearch Service and Elastic Cloud Enterprise do not support the ability to upgrade to or from release candidate builds, such as 8.0.0-rc1.</p>
<p>If you use a separate <a href="https://www.elastic.co/guide/en/cloud/current/ec-enable-logging-and-monitoring.html" class="ulink" target="_top">monitoring deployment</a>, you should upgrade the monitoring deployment before the production deployment. In general, the monitoring deployment and the deployments being monitored should be running the same version of the Elastic Stack. A monitoring deployment cannot monitor production deployments running newer versions of the stack. If necessary, the monitoring deployment can monitor production deployments running the latest release of the previous major version.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Although it&#8217;s simple to upgrade an Elastic Cloud deployment,
the new version might include breaking changes that affect your application.
Make sure you review the deprecation logs, make any necessary changes,
and test against the new version before upgrading your production deployment.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Upgrade Assistant
</span>
</dt>
<dd>
Prior to upgrading, Elastic Cloud checks the deprecation API to retrieve information about the cluster, node, and index-level settings that need to be removed or changed. If there are any issues that would prevent a successful upgrade, the upgrade is blocked. Use the <a href="https://www.elastic.co/guide/en/kibana/7.17/upgrade-assistant.html" class="ulink" target="_top">Upgrade Assistant</a> in 7.17 to identify and resolve issues and reindex any indices created before 7.0.
</dd>
<dt>
<span class="term">
Snapshots
</span>
</dt>
<dd>
<p>
To keep your data safe during the upgrade process, a snapshot is taken automatically
before any changes are made to your cluster. After a major version upgrade is complete and a snapshot of the upgraded cluster is available, all snapshots taken with the previous major version of Elasticsearch are stored in the snapshot repository.
</p>
<p>From version 8.3, snapshots are generally available as simple archives. Use the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/archive-indices.html" class="ulink" target="_top">archive functionality</a> to search snapshots as old as version 5.0 without the need of an old Elasticsearch cluster. This ensures that data you store in Elasticsearch doesn&#8217;t have an end of life and is still accessible when you upgrade, without requiring a reindex process.</p>
<p>On Elastic Cloud Enterprise, you need to <a href="https://www.elastic.co/guide/en/cloud-enterprise/current/ece-manage-repositories.html" class="ulink" target="_top">configure a snapshot repository</a> to enable snapshots.</p>
</dd>
<dt>
<span class="term">
Breaking changes
</span>
</dt>
<dd>
<p>
Major version upgrades can include breaking changes that require you to take additional steps
to ensure that your applications behave as expected after the upgrade.
Make sure you test against the new version before upgrading existing deployments.
</p>
<p>Review the <a class="xref" href="elastic-stack-breaking-changes.html" title="Breaking changes"><em>Breaking changes</em></a> and upgrade your code to work
with 8.10.0.</p>
</dd>
<dt>
<span class="term">
Known issues
</span>
</dt>
<dd>
In Elasticsearch 7.8 and later, index lifecycle management (ILM) is always enabled, even if the cluster is still using deprecated index curation methods.
If index curation and ILM are both configured to manage the same indices, the outcome can be unpredictable.
Elastic solutions default to using ILM, and we strongly encourage you to
<a href="https://www.elastic.co/guide/en/cloud/current/ec-migrate-index-management.html" class="ulink" target="_top">migrate all of your indices to ILM</a>.
</dd>
<dt>
<span class="term">
Security realm settings
</span>
</dt>
<dd>
<p>
During the upgrade process, you are prompted to update the security realm settings if your user settings include a <code class="literal">xpack.security.authc.realms</code> value.
</p>
<p>If the security realms are configured in <code class="literal">user_settings</code>, you&#8217;ll be prompted to modify the settings:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the <span class="strong strong"><strong>Update security realm settings</strong></span> window, edit the settings.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Update settings</strong></span>.
If the security realm settings are located in <code class="literal">user_settings_override</code>, contact support to help you upgrade.
</li>
</ol>
</div>
</dd>
</dl>
</div>
<h3><a id="perform-cloud-upgrade"></a>Perform the upgrade<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack-cloud.asciidoc">edit</a></h3>
<p>Log in to your Elastic Cloud environment:</p>
<style>
.tabs {
  width: 100%;
}
[role="tablist"] {
  margin: 0 0 -0.1em;
  overflow: visible;
}
[role="tab"] {
  position: relative;
  padding: 0.3em 0.5em 0.4em;
  border: 1px solid hsl(219, 1%, 72%);
  border-radius: 0.2em 0.2em 0 0;
  overflow: visible;
  font-family: inherit;
  font-size: inherit;
  background: hsl(220, 20%, 94%);
}
[role="tab"]:hover::before,
[role="tab"]:focus::before,
[role="tab"][aria-selected="true"]::before {
  position: absolute;
  bottom: 100%;
  right: -1px;
  left: -1px;
  border-radius: 0.2em 0.2em 0 0;
  border-top: 3px solid hsl(219, 1%, 72%);
  content: '';
}
[role="tab"][aria-selected="true"] {
  border-radius: 0;
  background: hsl(220, 43%, 99%);
  outline: 0;
}
[role="tab"][aria-selected="true"]:not(:focus):not(:hover)::before {
  border-top: 5px solid hsl(218, 96%, 48%);
}
[role="tab"][aria-selected="true"]::after {
  position: absolute;
  z-index: 3;
  bottom: -1px;
  right: 0;
  left: 0;
  height: 0.3em;
  background: hsl(220, 43%, 99%);
  box-shadow: none;
  content: '';
}
[role="tab"]:hover,
[role="tab"]:focus,
[role="tab"]:active {
  outline: 0;
  border-radius: 0;
  color: inherit;
}
[role="tab"]:hover::before,
[role="tab"]:focus::before {
  border-color: hsl(218, 96%, 48%);
}
[role="tabpanel"] {
  position: relative;
  z-index: 2;
  padding: 1em;
  border: 1px solid hsl(219, 1%, 72%);
  border-radius: 0 0.2em 0.2em 0.2em;
  box-shadow: 0 0 0.2em hsl(219, 1%, 72%);
  background: hsl(220, 43%, 99%);
  margin-bottom: 1em;
}
[role="tabpanel"] p {
  margin: 0;
}
[role="tabpanel"] * + p {
  margin-top: 1em;
}
</style>
<script>
window.addEventListener("DOMContentLoaded", () => {
  const tabs = document.querySelectorAll('[role="tab"]');
  const tabList = document.querySelector('[role="tablist"]');
  // Add a click event handler to each tab
  tabs.forEach(tab => {
    tab.addEventListener("click", changeTabs);
  });
  // Enable arrow navigation between tabs in the tab list
  let tabFocus = 0;
  tabList.addEventListener("keydown", e => {
    // Move right
    if (e.keyCode === 39 || e.keyCode === 37) {
      tabs[tabFocus].setAttribute("tabindex", -1);
      if (e.keyCode === 39) {
        tabFocus++;
        // If we're at the end, go to the start
        if (tabFocus >= tabs.length) {
          tabFocus = 0;
        }
        // Move left
      } else if (e.keyCode === 37) {
        tabFocus--;
        // If we're at the start, move to the end
        if (tabFocus < 0) {
          tabFocus = tabs.length - 1;
        }
      }
      tabs[tabFocus].setAttribute("tabindex", 0);
      tabs[tabFocus].focus();
    }
  });
});
function setActiveTab(target) {
  const parent = target.parentNode;
  const grandparent = parent.parentNode;
  // console.log(grandparent);
  // Remove all current selected tabs
  parent
    .querySelectorAll('[aria-selected="true"]')
    .forEach(t => t.setAttribute("aria-selected", false));
  // Set this tab as selected
  target.setAttribute("aria-selected", true);
  // Hide all tab panels
  grandparent
    .querySelectorAll('[role="tabpanel"]')
    .forEach(p => p.setAttribute("hidden", true));
  // Show the selected panel
  grandparent.parentNode
    .querySelector(`#${target.getAttribute("aria-controls")}`)
    .removeAttribute("hidden");
}
function changeTabs(e) {
  // get the containing list of the tab that was just clicked
  const tabList = e.target.parentNode;

  // get all of the sibling tabs
  const buttons = Array.apply(null, tabList.querySelectorAll('button'));

  // loop over the siblings to discover which index thje clicked one was
  const { index } = buttons.reduce(({ found, index }, button) => {
    if (!found && buttons[index] === e.target) {
      return { found: true, index };
    } else if (!found) {
      return { found, index: index + 1 };
    } else {
      return { found, index };
    }
  }, { found: false, index: 0 });

  // get the tab container
  const container = tabList.parentNode;
  // read the data-tab-group value from the container, e.g. "os"
  const { tabGroup } = container.dataset;
  // get a list of all the tab groups that match this value on the page
  const groups = document.querySelectorAll('[data-tab-group=' + tabGroup + ']');

  // for each of the found tab groups, find the tab button at the previously discovered index and select it for each group
  groups.forEach((group) => {
    const target = group.querySelectorAll('button')[index];
    setActiveTab(target);
  });
}
</script>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="cloud-login">
    <button role="tab"
            aria-selected="true"
            aria-controls="ess-tab-cloud-login"
            id="ess-cloud-login">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="ece-tab-cloud-login"
            id="ece-cloud-login">
      Elastic Cloud Enterprise
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="ess-tab-cloud-login"
       aria-labelledby="ess-cloud-login">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to the <a href="https://cloud.elastic.co/?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
<li class="listitem">
<p>Select your deployment on the home page in the Elasticsearch Service card or go to the deployments page.</p>
<p>Narrow your deployments by name, ID, or choose from several other filters. To customize your view, use a combination of filters, or change the format from a grid to a list.</p>
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="ece-tab-cloud-login"
       aria-labelledby="ece-cloud-login"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="https://www.elastic.co/guide/en/cloud-enterprise/current/ece-login.html" class="ulink" target="_top">Log into the Cloud UI</a>
</li>
<li class="listitem">
<p>On the deployments page, select your deployment.</p>
<p>Narrow the list by name, ID, or choose from several other filters. To further define the list, use a combination of filters.</p>
</li>
</ol>
</div>
  </div>
</div>
<p>To upgrade a deployment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <span class="strong strong"><strong>Deployment version</strong></span> section, click <span class="strong strong"><strong>Upgrade</strong></span>.
</li>
<li class="listitem">
Select version 8.10.0.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Upgrade</strong></span> and then <span class="strong strong"><strong>Confirm upgrade</strong></span>. The new configuration takes a few minutes to create.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If any incompatibilities are detected when you attempt to upgrade to 8.10.0, the UI provides a link to the Upgrade Assistant, which checks for deprecated settings in your cluster and indices and helps you resolve them. After resolving the issues, return to the deployments page and restart the upgrade.</p>
</div>
</div>
</li>
</ol>
</div>
<h3><a id="upgrading-clients-ingest"></a>Upgrading Elasticsearch clients and ingest components<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack-cloud.asciidoc">edit</a></h3>
<p>Once you have upgraded from 7.17, you need to update your Elasticsearch clients and ingest components
in the following order:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Java API Client: <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/master/installation.html#maven" class="ulink" target="_top">dependency configuration</a>
</li>
<li class="listitem">
Logstash: <a href="https://www.elastic.co/guide/en/logstash/master/upgrading-logstash.html" class="ulink" target="_top">upgrade instructions</a>
</li>
<li class="listitem">
Beats: <a href="https://www.elastic.co/guide/en/beats/libbeat/master/upgrading.html" class="ulink" target="_top">upgrade instructions</a>
</li>
<li class="listitem">
Elastic Agent: <a href="https://www.elastic.co/guide/en/fleet/master/upgrade-elastic-agent.html" class="ulink" target="_top">upgrade instructions</a>
</li>
</ol>
</div>
<h3><a id="upgrading-reindex"></a>Reindex to upgrade<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack-cloud.asciidoc">edit</a></h3>
<p>If you are running a pre-7.x version, you might need to perform multiple upgrades
or a full-cluster restart to get to 7.17 to prepare to upgrade to 8.10.0.</p>
<p>Alternatively, you can create a new 8.10.0 deployment and reindex from remote:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Provision an additional deployment running 8.10.0.
</li>
<li class="listitem">
Reindex your data into the new Elasticsearch cluster using <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/docs-reindex.html#reindex-from-remote" class="ulink" target="_top">reindex from remote</a>
and temporarily send new index requests to both clusters.
</li>
<li class="listitem">
Verify that the new cluster performs as expected, fix any problems, and then
permanently swap in the new cluster.
</li>
<li class="listitem">
Delete the old deployment.
On Elastic Cloud, you are billed only for the time that the new deployment
runs in parallel with your old deployment.
Usage is billed on an hourly basis.
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrading-elastic-stack-on-prem"></a>Upgrade Elastic on-prem<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-stack-docs/edit/master/docs/en/install-upgrade/upgrading-stack-on-prem.asciidoc">edit</a></h2>
</div></div></div>
<p>Once you are <a class="xref" href="upgrading-elastic-stack.html" title="Upgrade to Elastic 8.10.0">prepared to upgrade</a>,
you will need to upgrade each of your Elastic components individually.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Consider closing machine learning jobs before you start the upgrade process. While machine learning
jobs can continue to run during a rolling upgrade, it increases the overhead
on the cluster during the upgrade process.
</li>
<li class="listitem">
<p>Upgrade the components of your Elastic Stack in the following order:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Elasticsearch Hadoop: <a href="https://www.elastic.co/guide/en/elasticsearch/hadoop/master/install.html" class="ulink" target="_top">install instructions</a>
</li>
<li class="listitem">
Elasticsearch: <a class="xref" href="upgrading-elasticsearch.html" title="Upgrade Elasticsearch">upgrade instructions</a>
</li>
<li class="listitem">
Kibana: <a class="xref" href="upgrading-kibana.html" title="Upgrade Kibana">upgrade instructions</a>
</li>
<li class="listitem">
Java API Client: <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/master/installation.html#maven" class="ulink" target="_top">dependency configuration</a>
</li>
<li class="listitem">
Logstash: <a href="https://www.elastic.co/guide/en/logstash/master/upgrading-logstash.html" class="ulink" target="_top">upgrade instructions</a>
</li>
<li class="listitem">
Beats: <a href="https://www.elastic.co/guide/en/beats/libbeat/master/upgrading.html" class="ulink" target="_top">upgrade instructions</a>
</li>
<li class="listitem">
Elastic Agent: <a href="https://www.elastic.co/guide/en/fleet/master/upgrade-elastic-agent.html" class="ulink" target="_top">upgrade instructions</a>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="air-gapped-install.html">« Installing in an air-gapped environment</a>
</span>
<span class="next">
<a href="upgrading-elasticsearch.html">Upgrade Elasticsearch »</a>
</span>
</div>
</div>
</body>
</html>
